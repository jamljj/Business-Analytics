# 1. 用户行为分析
## 1.1 用户整体消费趋势分析
其中绘制了不同月份的购买人数、售货数量和销售额的折线图
## 1.2 用户消费分布图
其中绘制了用户的消费次数和消费金额的散点图，和用户消费金额的直方图
## 1.3 用户消费金额分布与贡献率
在这一部分，先对用户分组，计算每个用户的消费金额总和，然后从小到大排序，再计算贡献率，也就是计算某一个位置之前的消费金额的总和占总体消费额的多少。同样也可以计算每一个用户的消费额占总消费额的比例（但在本次分析中未体现）
## 1.4 用户消费行为
主要是体现了用户第一次购买和最后一次购买的时间分布
发现最后一次购买的趋势分布与用户整体消费趋势相似
主要原因有以下几点：
1. 季节性购买行为：消费者可能在特定季节或节日期间增加购买量，这可能导致购买金额的趋势与最后一次购买时间的分布呈现出相似的模式。

2. 促销活动的影响：电商平台可能会在特定时间进行促销活动，吸引消费者在这些时期增加购买，从而影响购买金额的趋势。

3. 消费者忠诚度：如果消费者对品牌或平台有较高的忠诚度，他们可能会定期回访并进行购买，这可能导致购买金额的趋势与最后一次购买时间的分布相似。

4. 库存和新产品推出：电商平台可能会定期更新库存或推出新产品，这可能会吸引消费者在这些时期进行购买，从而影响购买金额的趋势。

5. 消费者购买习惯：一些消费者可能有固定的购买周期，比如每月或每季度购买一次，这也可能导致购买金额的趋势与最后一次购买时间的分布相似。
## 1.4 用户分层
对于用户分层，本项目主要采用的是RFM模型，先做一个数据透视表，date列取每个用户的最大的日期（即最后一次购买日期），购买次数列取和（即将每个用户的购买次数求和），购买金额列与购买次数列同样的操作。  
R的衡量是使用date列的最大值减去每个用户对应的date值，F和M的衡量是使用的还是购买次数和购买金额。  
接下来是编码，本项目对于rfm的编码采取与每列的平均值比较进行编码，如果用户的date列的值、购买次数和购买金额大于本列的平均值，那么就编码为111，其他的同理，大于平均值就定义为1，小于平均值就定义为0.
## 1.5 新用户、老用户、活跃用户和回流用户分析
本次分析采用了两种视角，其中之一是拉通时间线站在最后那个时间点来看这些用户是上面类型  
其二是看每个月到底有哪些类型的用户。
比如：如果采用视角一，那么这个用户在这么长的时间段内只能有一个身份，我们是站在最新的时间上来定义的。
如果采用视角二，那么这个用户在每个月的身份都会改变，他可能在前一个月是活跃用户，他在后几个月就可能会变成回流用户
## 1.6 用户购买周期
注意！！！ 本项目计算用户购买周期时采用了一个很巧妙的方法。即shift（）函数  
接下来简要介绍一下shift（）函数的使用  
shift（axis=1）表明把数据整体向右移动一行  
shift（axis=0）表明把数据整体向下移动一行  
在本次使用中，我对groupby（customer_id)的组使用了shift（axis=0）函数，这样再使用没有移动的列减去移动了之后的列，这样就可以巧妙的计算出用户两次购买日期之间的差值。（美中不足的是，如果用户有3次及以上的消费记录，就会得到一个用户的两次购买日期的差，而本次分析没有体现到这一点）  
## 1.7 用户生命周期
## 1.8 复购率分析










